<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>zhujingle's homepage</title>
  <script src="./js/jquery.min.js"></script>
  <script src="./js/moment.min.js"></script>
  <link rel="stylesheet" href="./css/index.css">
</head>
<body>
  <canvas id="fireworks"></canvas>
  <div class="container">
    <b id="time"></b>
  </div>
  <script src="./js/index.js"></script>
  <script>
    let beginTime = moment('2023-10-05 20:01:42', 'YYYY-MM-DD HH:mm:ss');

    function calculateTime() {
      let nowTime = moment().format('YYYY-MM-DD HH:mm:ss')
      let days = moment(nowTime).diff(moment(beginTime), 'days');
      let hours = moment(nowTime).diff(moment(beginTime), 'hours')%24;
      let minutes = moment(nowTime).diff(moment(beginTime), 'minutes')%60;
      let seconds = moment(nowTime).diff(moment(beginTime), 'seconds')%60;
      return `${days} 天 - ${hours<10?'0'+hours:hours} 小时 - ${minutes<10?'0'+minutes:minutes} 分钟 - ${seconds<10?'0'+seconds:seconds} 秒`
    }

    function getContent(timeStr) {
      return '<span class="heart" style="color: red">❤</span> ' + '我们相识的第 ' + timeStr + ' <span class="heart" style="color: red">❤</span>';
    }

    window.onload = function() {
      canvas.width = SCREEN_WIDTH;
      canvas.height = SCREEN_HEIGHT;
      setInterval(launch, 800);
      setInterval(loop, 1000 / 50);
      
      $('#time').html(getContent(calculateTime()))
      setInterval(() => {
        $('#time').html(getContent(calculateTime()))
      }, 1000);
    }
  </script>
</body>
</html>
